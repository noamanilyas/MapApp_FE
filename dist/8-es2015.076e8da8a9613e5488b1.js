(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{GQzY:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J");class e{}var i=u("pMnS"),a=u("SVse");class o{}var s=u("AytR");class r{constructor(l){this.http=l,this.title="app",this.records=[]}getCSVData(l){this.http.get(`${s.a.apiURL}/home/getChaptersData`,{responseType:"blob"}).subscribe(n=>{const u=n,t=new FileReader;t.readAsText(u),t.onload=(()=>{const n=t.result.split(/\r\n|\n/),u=this.getHeaderArray(n);this.records=this.getDataRecordsArrayFromCSVFile(n,u.length),l(this.records)}),t.onerror=function(){console.log("error is occured while reading file!")}})}getDataRecordsArrayFromCSVFile(l,n){return l.map((l,n)=>{l=l.split("\t");const u=new o;return u.agency=void 0!==l[1]?l[1].trim():"",u.chapterName=void 0!==l[2]?l[2].trim():"",u.officeType=void 0!==l[3]?l[3].trim():"",u.mainContact=void 0!==l[9]?l[9].trim():"",u.email=void 0!==l[43]?l[43].trim():"",u.address=void 0!==l[19]?l[19].trim():"",u.city=void 0!==l[20]?l[20].trim():"",u.state=void 0!==l[21]?l[21].trim():"",u.ZIP=void 0!==l[22]?l[22].trim():"",u.lat=void 0!==l[23]?this.ParseDMS(l[23].trim()):"",u.long=void 0!==l[24]?this.ParseDMS(l[24].trim()):"",u.elevation=void 0!==l[25]?l[25].trim():"",u.plusCode=void 0!==l[26]?l[26].trim():"",u.phone2=void 0!==l[30]?l[30].trim():"",u.nnBranch=void 0!==l[31]?l[31].trim():"",u.divsion=void 0!==l[32]?l[32].trim():"",u.chapterLGA=void 0!==l[36]?l[36].trim():"",u})}ParseDMS(l){const n=l.split(/\s+/);return this.ConvertDMSToDD(n[0],n[1],n[2],n[3])}ConvertDMSToDD(l,n,u,t){let e=Number(l)+Number(n)/60+Number(u)/3600;return"S"!==t&&"W"!==t||(e*=-1),e.toFixed(8)}getHeaderArray(l){const n=l[0].split("\t"),u=[];for(let t=0;t<n.length;t++)u.push(n[t]);return u}}var c=u("IheW"),b=u("4ZJM"),p=u("PSD3"),h=u.n(p);class d{constructor(l,n){this.mapService=l,this.changeDetector=n,this.style="mapbox://styles/mapbox/streets-v11",this.lat=36.149278,this.lng=-109.6824607,this.csvData=[],this.mapView=!0,b.accessToken=s.a.mapbox.accessToken}set content(l){this.mapElement=l}ngOnInit(){h.a.fire({title:"Loading data!",text:"Markers are loading, Please wait...",onOpen:()=>{h.a.showLoading()}}),this.mapService.getCSVData(l=>{l.shift(),this.csvData=l,this.mapView&&this.initMap()})}initMap(){h.a.fire({title:"Loading data!",text:"Markers are loading, Please wait...",onOpen:()=>{h.a.showLoading()}}),this.map=new b.Map({container:this.mapElement.nativeElement,style:this.style,zoom:10,center:[this.lng,this.lat]}),this.map.addControl(new b.NavigationControl),this.addMarkers(this.map)}switchLayer(l){this.map.setStyle("mapbox://styles/mapbox/"+l)}addMarkers(l){this.csvData.forEach((n,u)=>{if(!isNaN(n.lat)&&!isNaN(n.long)){const u=document.createElement("div");u.className="marker",u.style.backgroundImage="url(assets/images/house.png)",u.style.width="32px",u.style.height="32px",new b.Marker(u).setLngLat([n.long,n.lat]).setPopup(new b.Popup({maxWidth:"525px"}).setHTML(`\n\t    \t\t\t\t<div>\n\t    \t\t\t\t\t<h3>${n.chapterName} - ${n.agency}</h3>\n\t    \t\t\t\t\t<embed src="http://www.americasrf.com/public_html/NNTRC/Part1Single/`+n.chapterName.replace(/\//g,"-")+'.pdf#toolbar=1" width="500" height="375">\n\t    \t\t\t\t</div>\n\t    \t\t\t')).addTo(l)}u===this.csvData.length-1&&h.a.close()})}changeView(l){"map"===l?(this.mapView=!0,this.changeDetector.detectChanges(),this.initMap()):"list"===l&&(this.mapView=!1)}}var m=t.ob({encapsulation:0,styles:[['.match-parent[_ngcontent-%COMP%]{width:100%;height:800px}#menu[_ngcontent-%COMP%]{position:absolute;background:#efe9e1;padding:10px;font-family:"Open Sans",sans-serif;z-index:1111}.marker[_ngcontent-%COMP%]{background-size:cover;width:50px;height:50px;border-radius:50%;cursor:pointer}.mapboxgl-popup[_ngcontent-%COMP%]{max-width:525px}.mapboxgl-popup-content[_ngcontent-%COMP%]{width:525px;height:400px;text-align:center;font-family:"Open Sans",sans-serif}.mapboxgl-popup-anchor-top[_ngcontent-%COMP%], .mapboxgl-popup-content-wrapper[_ngcontent-%COMP%]{max-width:525px;max-width:400px}table[_ngcontent-%COMP%]{width:100%;overflow:auto}tbody[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}li[_ngcontent-%COMP%]{cursor:pointer}.active[_ngcontent-%COMP%]{background:#f7f7f7!important}']],data:{}});function g(l){return t.Jb(0,[(l()(),t.qb(0,0,null,null,10,null,null,null,null,null,null,null)),(l()(),t.qb(1,0,null,null,8,"div",[["id","menu"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,[" \xa0 "])),(l()(),t.qb(3,0,null,null,0,"input",[["checked","checked"],["id","streets-v11"],["name","rtoggle"],["type","radio"],["value","streets"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.switchLayer("streets-v11")&&t),t},null,null)),(l()(),t.qb(4,0,null,null,1,"label",[["for","streets"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Street"])),(l()(),t.Hb(-1,null,["\xa0 "])),(l()(),t.qb(7,0,null,null,0,"input",[["id","satellite-v9"],["name","rtoggle"],["type","radio"],["value","satellite"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.switchLayer("satellite-v9")&&t),t},null,null)),(l()(),t.qb(8,0,null,null,1,"label",[["for","satellite"]],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Satellite"])),(l()(),t.qb(10,0,[[1,0],["mapElement",1]],null,0,"div",[["class","match-parent"]],null,null,null,null,null))],null,null)}function v(l){return t.Jb(0,[(l()(),t.qb(0,0,null,null,34,"tr",[],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(2,null,["",""])),(l()(),t.qb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(4,null,["",""])),(l()(),t.qb(5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(6,null,["",""])),(l()(),t.qb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(8,null,["",""])),(l()(),t.qb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(10,null,["",""])),(l()(),t.qb(11,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(12,null,["",""])),(l()(),t.qb(13,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(14,null,["",""])),(l()(),t.qb(15,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(16,null,["",""])),(l()(),t.qb(17,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(18,null,["",""])),(l()(),t.qb(19,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(20,null,["",""])),(l()(),t.qb(21,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(22,null,["",""])),(l()(),t.qb(23,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(24,null,["",""])),(l()(),t.qb(25,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(26,null,["",""])),(l()(),t.qb(27,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(28,null,["",""])),(l()(),t.qb(29,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(30,null,["",""])),(l()(),t.qb(31,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(32,null,["",""])),(l()(),t.qb(33,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Hb(34,null,["",""]))],null,function(l,n){l(n,2,0,n.context.$implicit.agency),l(n,4,0,n.context.$implicit.chapterName),l(n,6,0,n.context.$implicit.officeType),l(n,8,0,n.context.$implicit.mainContact),l(n,10,0,n.context.$implicit.email),l(n,12,0,n.context.$implicit.address),l(n,14,0,n.context.$implicit.city),l(n,16,0,n.context.$implicit.state),l(n,18,0,n.context.$implicit.ZIP),l(n,20,0,n.context.$implicit.lat),l(n,22,0,n.context.$implicit.long),l(n,24,0,n.context.$implicit.elevation),l(n,26,0,n.context.$implicit.plusCode),l(n,28,0,n.context.$implicit.phone2),l(n,30,0,n.context.$implicit.nnBranch),l(n,32,0,n.context.$implicit.divsion),l(n,34,0,n.context.$implicit.chapterLGA)})}function f(l){return t.Jb(0,[(l()(),t.qb(0,0,null,null,40,"div",[["class","table-responsive"]],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,39,"table",[["class","table table-striped table-bordered table-responsive"]],null,null,null,null,null)),(l()(),t.qb(2,0,null,null,35,"thead",[],null,null,null,null,null)),(l()(),t.qb(3,0,null,null,34,"tr",[],null,null,null,null,null)),(l()(),t.qb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Agency"])),(l()(),t.qb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Chapter Name"])),(l()(),t.qb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Office Type"])),(l()(),t.qb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Main Contact"])),(l()(),t.qb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Email"])),(l()(),t.qb(14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Eddress"])),(l()(),t.qb(16,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["City"])),(l()(),t.qb(18,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["State"])),(l()(),t.qb(20,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["ZIP"])),(l()(),t.qb(22,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Lat"])),(l()(),t.qb(24,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Long"])),(l()(),t.qb(26,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Elevation"])),(l()(),t.qb(28,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Plus Code"])),(l()(),t.qb(30,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Phone 2"])),(l()(),t.qb(32,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["NN Branch"])),(l()(),t.qb(34,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Divsion"])),(l()(),t.qb(36,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Chapter LGA"])),(l()(),t.qb(38,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.fb(16777216,null,null,1,null,v)),t.pb(40,278528,null,0,a.k,[t.N,t.K,t.r],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,40,0,n.component.csvData)},null)}function x(l){return t.Jb(0,[t.Fb(671088640,1,{content:0}),(l()(),t.qb(1,0,null,null,12,"ul",[["class","nav nav-tabs"]],null,null,null,null,null)),(l()(),t.qb(2,0,null,null,5,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),t.qb(3,0,null,null,4,"a",[["class","nav-link"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.changeView("map")&&t),t},null,null)),t.Eb(512,null,a.x,a.y,[t.r,t.s,t.k,t.C]),t.pb(5,278528,null,0,a.j,[a.x],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Cb(6,{active:0}),(l()(),t.Hb(-1,null,["Map"])),(l()(),t.qb(8,0,null,null,5,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),t.qb(9,0,null,null,4,"a",[["class","nav-link"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.changeView("list")&&t),t},null,null)),t.Eb(512,null,a.x,a.y,[t.r,t.s,t.k,t.C]),t.pb(11,278528,null,0,a.j,[a.x],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Cb(12,{active:0}),(l()(),t.Hb(-1,null,["List"])),(l()(),t.qb(14,0,null,null,4,"div",[["class","tab-content"]],null,null,null,null,null)),(l()(),t.fb(16777216,null,null,1,null,g)),t.pb(16,16384,null,0,a.l,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.fb(16777216,null,null,1,null,f)),t.pb(18,16384,null,0,a.l,[t.N,t.K],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component,t=l(n,6,0,1==u.mapView);l(n,5,0,"nav-link",t);var e=l(n,12,0,0==u.mapView);l(n,11,0,"nav-link",e),l(n,16,0,u.mapView),l(n,18,0,!u.mapView)},null)}function q(l){return t.Jb(0,[(l()(),t.qb(0,0,null,null,2,"houses-page",[],null,null,null,x,m)),t.Eb(512,null,r,r,[c.c]),t.pb(2,114688,null,0,d,[r,t.h],null,null)],function(l,n){l(n,2,0)},null)}var w=t.mb("houses-page",d,q,{},{},[]),y=u("iInd");class H{}u.d(n,"HousesModuleNgFactory",function(){return C});var C=t.nb(e,[],function(l){return t.xb([t.yb(512,t.j,t.ab,[[8,[i.a,w]],[3,t.j],t.w]),t.yb(4608,a.n,a.m,[t.t,[2,a.A]]),t.yb(1073742336,a.b,a.b,[]),t.yb(1073742336,y.p,y.p,[[2,y.u],[2,y.l]]),t.yb(1073742336,H,H,[]),t.yb(1073742336,e,e,[]),t.yb(1024,y.j,function(){return[[{path:"",component:d}]]},[])])})}}]);