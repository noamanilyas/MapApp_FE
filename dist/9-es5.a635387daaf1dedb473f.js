(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"9RqB":function(l,n,u){"use strict";u.r(n);var t=u("CcnG"),e=function(){return function(){}}(),i=u("pMnS"),a=u("Ip0R"),o=function(){return function(){}}(),r=u("AytR"),s=function(){function l(l){this.http=l,this.title="app",this.records=[]}return l.prototype.getCSVData=function(l){var n=this;this.http.get(r.a.apiURL+"/home/getData",{responseType:"blob"}).subscribe(function(u){var t=u,e=new FileReader;e.readAsText(t),e.onload=function(){var u=e.result.split(/\r\n|\n/),t=n.getHeaderArray(u);n.records=n.getDataRecordsArrayFromCSVFile(u,t.length),l(n.records)},e.onerror=function(){console.log("error is occured while reading file!")}})},l.prototype.getDataRecordsArrayFromCSVFile=function(l,n){var u=this;return l.map(function(l,n){l=l.split("\t");var t=new o;return t.code=null!=l[1]?l[1].trim():"",t.lat=null!=l[27]?u.ParseDMS(l[27].trim()):"",t.long=null!=l[28]?u.ParseDMS(l[28].trim()):"",t.elevation=null!=l[30]?l[30].trim():"",t.owner=null!=l[22]?l[22].trim():"",t.strucType=null!=l[23]?l[23].trim():"",t.height=null!=l[24]?l[24].trim():"",t.city=null!=l[7]?l[7].trim():"",t.state=null!=l[9]?l[9].trim():"",t.ZIP=null!=l[10]?l[10].trim():"",t.county=null!=l[11]?l[11].trim():"",t.plusCode=null!=l[29]?l[29].trim():"",t})},l.prototype.ParseDMS=function(l){var n=l.split(/\s+/);return this.ConvertDMSToDD(n[0],n[1],n[2],n[3])},l.prototype.ConvertDMSToDD=function(l,n,u,t){var e=Number(l)+Number(n)/60+Number(u)/3600;return"S"!=t&&"W"!=t||(e*=-1),e.toFixed(8)},l.prototype.getHeaderArray=function(l){for(var n=l[0].split("\t"),u=[],t=0;t<n.length;t++)u.push(n[t]);return u},l}(),c=u("t/Na"),p=u("4ZJM"),b=u("PSD3"),h=u.n(b),d=function(){function l(l,n){this.mapService=l,this.changeDetector=n,this.style="mapbox://styles/mapbox/streets-v11",this.lat=36.149278,this.lng=-109.6824607,this.csvData=[],this.mapView=!0,p.accessToken=r.a.mapbox.accessToken}return Object.defineProperty(l.prototype,"content",{set:function(l){this.mapElement=l},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){var l=this;h.a.fire({title:"Loading data!",text:"Markers are loading, Please wait...",onOpen:function(){h.a.showLoading()}}),this.mapService.getCSVData(function(n){n.shift(),l.csvData=n,l.mapView&&l.initMap()})},l.prototype.initMap=function(){h.a.fire({title:"Loading data!",text:"Markers are loading, Please wait...",onOpen:function(){h.a.showLoading()}}),this.map=new p.Map({container:this.mapElement.nativeElement,style:this.style,zoom:10,center:[this.lng,this.lat]}),this.map.addControl(new p.NavigationControl),this.addMarkers(this.map)},l.prototype.switchLayer=function(l){this.map.setStyle("mapbox://styles/mapbox/"+l)},l.prototype.addMarkers=function(l){var n=this;this.csvData.forEach(function(u,t){if(!isNaN(u.lat)&&!isNaN(u.long)){var e=document.createElement("div");e.className="marker",e.style.backgroundImage="url(assets/images/button.png)",e.style.width="16px",e.style.height="16px",new p.Marker(e).setLngLat([u.long,u.lat]).setPopup(new p.Popup({maxWidth:"525px"}).setHTML("\n              <div>\n                <h3>"+u.code+" - "+u.owner+'</h3>\n                <embed src="http://www.americasrf.com/public_html/NNTRC/Part2Single/'+u.code+'.pdf#toolbar=1" width="500" height="375">\n              </div>\n            ')).addTo(l)}t===n.csvData.length-1&&h.a.close()})},l.prototype.changeView=function(l){"map"===l?(this.mapView=!0,this.changeDetector.detectChanges(),this.initMap()):"list"===l&&(this.mapView=!1)},l}(),m=t.qb({encapsulation:0,styles:[['.match-parent[_ngcontent-%COMP%]{width:100%;height:800px}#menu[_ngcontent-%COMP%]{position:absolute;background:#efe9e1;padding:10px;font-family:"Open Sans",sans-serif;z-index:1111}.marker[_ngcontent-%COMP%]{background-size:cover;width:50px;height:50px;border-radius:50%;cursor:pointer}.mapboxgl-popup[_ngcontent-%COMP%]{max-width:525px}.mapboxgl-popup-content[_ngcontent-%COMP%]{width:525px;height:400px;text-align:center;font-family:"Open Sans",sans-serif}.mapboxgl-popup-anchor-top[_ngcontent-%COMP%], .mapboxgl-popup-content-wrapper[_ngcontent-%COMP%]{max-width:525px;max-width:400px}table[_ngcontent-%COMP%]{width:100%;overflow:auto}tbody[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}li[_ngcontent-%COMP%]{cursor:pointer}.active[_ngcontent-%COMP%]{background:#f7f7f7!important}']],data:{}});function g(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,10,null,null,null,null,null,null,null)),(l()(),t.sb(1,0,null,null,8,"div",[["id","menu"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" \xa0 "])),(l()(),t.sb(3,0,null,null,0,"input",[["checked","checked"],["id","streets-v11"],["name","rtoggle"],["type","radio"],["value","streets"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.switchLayer("streets-v11")&&t),t},null,null)),(l()(),t.sb(4,0,null,null,1,"label",[["for","streets"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Street"])),(l()(),t.Jb(-1,null,["\xa0 "])),(l()(),t.sb(7,0,null,null,0,"input",[["id","satellite-v9"],["name","rtoggle"],["type","radio"],["value","satellite"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.switchLayer("satellite-v9")&&t),t},null,null)),(l()(),t.sb(8,0,null,null,1,"label",[["for","satellite"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Satellite"])),(l()(),t.sb(10,0,[[1,0],["mapElement",1]],null,0,"div",[["class","match-parent"]],null,null,null,null,null))],null,null)}function f(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,24,"tr",[],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Jb(2,null,["",""])),(l()(),t.sb(3,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Jb(4,null,["",""])),(l()(),t.sb(5,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Jb(6,null,["",""])),(l()(),t.sb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Jb(8,null,["",""])),(l()(),t.sb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Jb(10,null,["",""])),(l()(),t.sb(11,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Jb(12,null,["",""])),(l()(),t.sb(13,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Jb(14,null,["",""])),(l()(),t.sb(15,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Jb(16,null,["",""])),(l()(),t.sb(17,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Jb(18,null,["",""])),(l()(),t.sb(19,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Jb(20,null,["",""])),(l()(),t.sb(21,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Jb(22,null,["",""])),(l()(),t.sb(23,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Jb(24,null,["",""]))],null,function(l,n){l(n,2,0,n.context.$implicit.code),l(n,4,0,n.context.$implicit.lat),l(n,6,0,n.context.$implicit.long),l(n,8,0,n.context.$implicit.elevation),l(n,10,0,n.context.$implicit.owner),l(n,12,0,n.context.$implicit.strucType),l(n,14,0,n.context.$implicit.height),l(n,16,0,n.context.$implicit.city),l(n,18,0,n.context.$implicit.state),l(n,20,0,n.context.$implicit.ZIP),l(n,22,0,n.context.$implicit.county),l(n,24,0,n.context.$implicit.plusCode)})}function v(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,30,"div",[["class","table-responsive"]],null,null,null,null,null)),(l()(),t.sb(1,0,null,null,29,"table",[["class","table table-striped table-bordered table-responsive"]],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,25,"thead",[],null,null,null,null,null)),(l()(),t.sb(3,0,null,null,24,"tr",[],null,null,null,null,null)),(l()(),t.sb(4,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Code"])),(l()(),t.sb(6,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Latitude Structure"])),(l()(),t.sb(8,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Longitude Structure"])),(l()(),t.sb(10,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Elevation Structure"])),(l()(),t.sb(12,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Owner Structure"])),(l()(),t.sb(14,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Structure Type"])),(l()(),t.sb(16,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Height"])),(l()(),t.sb(18,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["City"])),(l()(),t.sb(20,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["State"])),(l()(),t.sb(22,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["ZIP"])),(l()(),t.sb(24,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["County"])),(l()(),t.sb(26,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Plus Code"])),(l()(),t.sb(28,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,f)),t.rb(30,278528,null,0,a.k,[t.P,t.M,t.t],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,30,0,n.component.csvData)},null)}function y(l){return t.Lb(0,[t.Hb(671088640,1,{content:0}),(l()(),t.sb(1,0,null,null,12,"ul",[["class","nav nav-tabs"]],null,null,null,null,null)),(l()(),t.sb(2,0,null,null,5,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),t.sb(3,0,null,null,4,"a",[["class","nav-link"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.changeView("map")&&t),t},null,null)),t.Gb(512,null,a.x,a.y,[t.t,t.u,t.k,t.E]),t.rb(5,278528,null,0,a.j,[a.x],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Eb(6,{active:0}),(l()(),t.Jb(-1,null,["Map"])),(l()(),t.sb(8,0,null,null,5,"li",[["class","nav-item"]],null,null,null,null,null)),(l()(),t.sb(9,0,null,null,4,"a",[["class","nav-link"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.changeView("list")&&t),t},null,null)),t.Gb(512,null,a.x,a.y,[t.t,t.u,t.k,t.E]),t.rb(11,278528,null,0,a.j,[a.x],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Eb(12,{active:0}),(l()(),t.Jb(-1,null,["List"])),(l()(),t.sb(14,0,null,null,4,"div",[["class","tab-content"]],null,null,null,null,null)),(l()(),t.hb(16777216,null,null,1,null,g)),t.rb(16,16384,null,0,a.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null),(l()(),t.hb(16777216,null,null,1,null,v)),t.rb(18,16384,null,0,a.l,[t.P,t.M],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component,t=l(n,6,0,1==u.mapView);l(n,5,0,"nav-link",t);var e=l(n,12,0,0==u.mapView);l(n,11,0,"nav-link",e),l(n,16,0,u.mapView),l(n,18,0,!u.mapView)},null)}function w(l){return t.Lb(0,[(l()(),t.sb(0,0,null,null,2,"app-structure",[],null,null,null,y,m)),t.Gb(512,null,s,s,[c.c]),t.rb(2,114688,null,0,d,[s,t.h],null,null)],function(l,n){l(n,2,0)},null)}var x=t.ob("app-structure",d,w,{},{},[]),k=u("ZYCi"),C=function(){return function(){}}();u.d(n,"StructuresModuleNgFactory",function(){return J});var J=t.pb(e,[],function(l){return t.zb([t.Ab(512,t.j,t.cb,[[8,[i.a,x]],[3,t.j],t.y]),t.Ab(4608,a.n,a.m,[t.v,[2,a.A]]),t.Ab(1073742336,a.b,a.b,[]),t.Ab(1073742336,k.p,k.p,[[2,k.u],[2,k.l]]),t.Ab(1073742336,C,C,[]),t.Ab(1073742336,e,e,[]),t.Ab(1024,k.j,function(){return[[{path:"",component:d}]]},[])])})}}]);